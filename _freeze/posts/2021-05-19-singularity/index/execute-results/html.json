{
  "hash": "7dc27fc5f3dbfdbcd35fac52345da76b",
  "result": {
    "markdown": "---\ntitle: Singularity-01-安装\nauthor: 桑峰\ndate: 2021-05-19\nslug: blog\noutput: html_document\ncategories:\n  - 服务器\ntags:\n  - singularity\n  - install\n---\n\n\n简单来讲，Singularity是一种可以跨平台执行的小型虚拟机。在数据分析时，首先往往要搭建运行环境，比如R，python等。为了保证结果的可靠性，通常要保证跨设备环境的一致性。但是在跨运算设备之间搭建相同的环境是一项比较麻烦的事情。因此，如果只搭建一次环境，就可以在各个设备上使用，就比较轻松了。Singularity和Docker就提供了这样的功能。笔者在这里使用Singularity[1]，版本为2.4.6。\n\n## 安装依赖库\n\n### Ubuntu\n\n```bash\nsudo apt-get update\nsudo apt-get install python dh-autoreconf build-essential libarchive-dev\n```\n\n### CentOS\n\n```bash\nsudo yum update\nsudo yum groupinstall 'Development Tools'\nsudo yum install libarchive-devel\n```\n\n## 编译安装\n\n```bash\nVER=2.4.6\nwget https://github.com/singularityware/singularity/releases/download/$VER/singularity-$VER.tar.gz\ntar xvf singularity-$VER.tar.gz\ncd singularity-$VER\n./autogen.sh\n./configure --prefix=\"/usr/local/singularity-${VER}\"\nmake\nsudo make install\n```\n\n将**/usr/local/singularity-2.4.6/bin**添加进**$PATH**并重新加载配置文件。\n\n```bash\necho \"export $PATH=/usr/local/singularity-2.4.6/bin:$PATH\" > ~/.bashrc\nsource ~/.bashrc\n```\n\n<center>\n    <img style=\"width:50%;\"\n    src=\"./img/iShot2021-05-19 10.37.27.png\">\n    <br>\n    <div style=\"color:orange; border-bottom: 1px solid #d9d9d9;\n    display: inline-block;\n    color: #999;\n    padding: 2px;\">图1. 显示singularity版本</div>\n</center>\n\n### 参考\n\n[1]: [https://singularity.lbl.gov/index.html]\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}